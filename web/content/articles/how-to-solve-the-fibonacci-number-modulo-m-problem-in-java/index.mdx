---
title: 'How to solve the â€œFibonacci Number modulo Mâ€ Problem in Java'
date: "2022-01-17"
summary: 'â€œ Large Fibonacci Number modulo Mâ€'
tags: ["java"]
source: "Medium"
canonicalUrl: "https://medium.com/@anas-aboreeda/solution-of-fibonacci-number-modulo-m-problem-in-java-fac11fbce187"
published: true
---

* * *

### How to solve the â€œLarge Fibonacci Number modulo Mâ€ Problem in Java

![Fibonacci numbers](https://cdn-images-1.medium.com/max/800/1*5K99UCTWypVMOh3qXXQ0ww.jpeg)

### ***Problem Description***

Given two integers ğ‘› and ğ‘š, output ğ¹ğ‘› mod ğ‘š (that is, the remainder of ğ¹ğ‘› when divided by ğ‘š).

***Input Format.*** The input consists of two integers ğ‘› and ğ‘š given on the same line (separated by a space).

***Constraints.*** 1 â‰¤ ğ‘› â‰¤ 10^18, 2 â‰¤ ğ‘š â‰¤ 10^5.

***Output Format.*** Output ğ¹ğ‘› mod ğ‘š.

#### ***Sample 1.***

*Input:* 239 1000

*Output:* 161

ğ¹(239) mod 1000 = 39 679 027 332 006 820 581 608 740 953 902 289 877 834 488 152 161 (mod 1000) = 161.

#### ***Sample 2.***

*Input:* 2816213588 239

*Output:* 151

ğ¹ (2816213588) does not fit into one page of this file, but ğ¹(2816213588) mod 239 = 151.

### Solution

#### Background

In this problem, your goal is to compute ğ¹ğ‘› modulo ğ‘š, where ğ‘› may be really huge: up to 10Â¹â¸. For such values of ğ‘›, an algorithm looping for ğ‘› iterations will not fit into one second for sure. Therefore we need to avoid such a loop.

To get an idea of how to solve this problem without going through all ğ¹ğ‘– for ğ‘– from 0 to ğ‘›, let's see what happens when ğ‘š is small - say, ğ‘š = 2 or ğ‘š = 3.

![](https://cdn-images-1.medium.com/max/800/1*msXCuI5Kq1CnET5vHsnAtQ.jpeg)

Fibonacci number mod 2 and mod 3

Take a detailed look at this table. Do you see? Both these sequences are periodic! For ğ‘š = 2, the period is 011 and has length 3, while for ğ‘š = 3 the period is 01120221 and has length 8. Therefore, to compute, say, ğ¹ (2015) mod 3 we just need to find the remainder of 2015 when divided by 8. Since 2015 = 251 * 8 + 7, we conclude that ğ¹(2015) mod 3 = ğ¹(7) mod 3 = 1.

This is true in general: for any integer ğ‘š â‰¥ 2, the sequence ğ¹ğ‘› mod ğ‘š is periodic. The period always starts with 01 and is known as the [Pisano period](https://en.wikipedia.org/wiki/Pisano_period).

#### Solution

In this solution, you can find the Naive solution and also a Fast solution for this problem. The naive solution is quite straightforward, you just calculate the Fibonacci number using the table look method, then you calculate the mod (m) of it. The fast solution on the other side is using the information in the mathematical background. First, we calculate the Pisano Period for the m number, then we use it to calculate the Fibonacci number and return its modulo.

### Solution Test

Please follow me for more problems solutions and interesting technical writings.