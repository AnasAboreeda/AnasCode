#!/usr/bin/env sh

echo "ğŸ§ª Running pre-push checks..."
echo ""

# Change to web directory
cd web || exit 1

echo "ğŸ“¦ Building the project..."
pnpm build
if [ $? -ne 0 ]; then
  echo "âŒ Build failed. Push aborted."
  exit 1
fi
echo "âœ… Build passed"
echo ""

echo "ğŸ­ Running E2E tests..."
pnpm test:e2e
if [ $? -ne 0 ]; then
  echo "âŒ E2E tests failed. Push aborted."
  exit 1
fi
echo "âœ… E2E tests passed"
echo ""

echo "âœ¨ All checks passed! Proceeding with push..."
